!function(e){function t(t){for(var a,c,u=t[0],l=t[1],r=t[2],v=0,f=[];v<u.length;v++)c=u[v],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&f.push(n[c][0]),n[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(o&&o(t);f.length;)f.shift()();return s.push.apply(s,r||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],a=!0,u=1;u<i.length;u++){var l=i[u];0!==n[l]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=i[0]))}return e}var a={},n={0:0},s=[];function c(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=e,c.c=a,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(i,a,function(t){return e[t]}.bind(null,a));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var r=0;r<u.length;r++)t(u[r]);var o=l;s.push([121,1]),i()}({121:function(e,t,i){i(122),e.exports=i(309)},308:function(e,t,i){},309:function(e,t,i){"use strict";i.r(t);var a=[{id:"Backquote",en:{value:"`",shift:"~"},ru:{value:"ё"}},{id:"Digit1",value:"1",en:{shift:"!"}},{id:"Digit2",value:"2",en:{shift:"@"},ru:{shift:'"'}},{id:"Digit3",value:"3",en:{shift:"#"},ru:{shift:"№"}},{id:"Digit4",value:"4",en:{shift:"$"},ru:{shift:";"}},{id:"Digit5",value:"5",en:{shift:"%"}},{id:"Digit6",value:"6",en:{shift:"^"},ru:{shift:":"}},{id:"Digit7",value:"7",en:{shift:"&"},ru:{shift:"?"}},{id:"Digit8",value:"8",en:{shift:"*"}},{id:"Digit9",value:"9",en:{shift:"("}},{id:"Digit0",value:"0",en:{shift:")"}},{id:"Minus",value:"-",en:{shift:"_"}},{id:"Equal",value:"=",en:{shift:"+"}},{id:"Backspace",value:"backspace",spec:!0},{id:"Tab",value:"tab",spec:!0},{id:"KeyQ",en:{value:"q"},ru:{value:"й"}},{id:"KeyW",en:{value:"w"},ru:{value:"ц"}},{id:"KeyE",en:{value:"e"},ru:{value:"у"}},{id:"KeyR",en:{value:"r"},ru:{value:"к"}},{id:"KeyT",en:{value:"t"},ru:{value:"е"}},{id:"KeyY",en:{value:"y"},ru:{value:"н"}},{id:"KeyU",en:{value:"u"},ru:{value:"г"}},{id:"KeyI",en:{value:"i"},ru:{value:"ш"}},{id:"KeyO",en:{value:"o"},ru:{value:"щ"}},{id:"KeyP",en:{value:"p"},ru:{value:"з"}},{id:"BracketLeft",en:{value:"[",shift:"{"},ru:{value:"х"}},{id:"BracketRight",en:{value:"]",shift:"}"},ru:{value:"ъ"}},{id:"Delete",value:"del",spec:!0},{id:"CapsLock",value:"caps lock",spec:!0},{id:"KeyA",en:{value:"a"},ru:{value:"ф"}},{id:"KeyS",en:{value:"s"},ru:{value:"ы"}},{id:"KeyD",en:{value:"d"},ru:{value:"в"}},{id:"KeyF",en:{value:"f"},ru:{value:"а"}},{id:"KeyG",en:{value:"g"},ru:{value:"п"}},{id:"KeyH",en:{value:"h"},ru:{value:"р"}},{id:"KeyJ",en:{value:"j"},ru:{value:"о"}},{id:"KeyK",en:{value:"k"},ru:{value:"л"}},{id:"KeyL",en:{value:"l"},ru:{value:"д"}},{id:"Semicolon",en:{value:";",shift:":"},ru:{value:"д"}},{id:"Quote",en:{value:"'",shift:'"'},ru:{value:"э"}},{id:"Enter",value:"enter",spec:!0},{id:"ShiftLeft",value:"shift",spec:!0},{id:"Backslash",value:"\\",en:{shift:"|"},ru:{shift:"/"}},{id:"KeyZ",en:{value:"z"},ru:{value:"я"}},{id:"KeyX",en:{value:"x"},ru:{value:"ч"}},{id:"KeyC",en:{value:"c"},ru:{value:"c"}},{id:"KeyV",en:{value:"v"},ru:{value:"м"}},{id:"KeyB",en:{value:"b"},ru:{value:"и"}},{id:"KeyN",en:{value:"n"},ru:{value:"т"}},{id:"KeyM",en:{value:"m"},ru:{value:"ь"}},{id:"Comma",en:{value:",",shift:"<"},ru:{value:"б"}},{id:"Period",en:{value:".",shift:">"},ru:{value:"ю"}},{id:"Slash",en:{value:"/",shift:"?"},ru:{value:".",shift:","}},{id:"ArrowUp",value:"&#8593;",spec:!0},{id:"ShiftRight",value:"shift",spec:!0},{id:"ControlLeft",value:"ctrl",spec:!0},{id:"AltLeft",value:"alt",spec:!0},{id:"Space",value:" ",spec:!0},{id:"AltRight",value:"alt",spec:!0},{id:"ControlRight",value:"ctrl",spec:!0},{id:"ArrowLeft",value:"&#8592;",spec:!0},{id:"ArrowDown",value:"&#8595;",spec:!0},{id:"ArrowRight",value:"&#8594;",spec:!0}];function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keyboard",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,e),this.main=null,this.id=t,this.lang=i,this.caps=a,this.shift=s}var t,i,c;return t=e,(i=[{key:"changeLanguage",value:function(){this.lang="en"===this.lang?"ru":"en",localStorage.setItem("language",this.lang)}},{key:"render",value:function(){return this.main=document.createElement("div"),this.main.id=this.id,this.main.innerHTML=this.buttons,this.main}},{key:"language",get:function(){return this.lang},set:function(e){this.lang=e}},{key:"isCapsLock",get:function(){return this.caps},set:function(e){this.caps=e}},{key:"isShift",get:function(){return this.shift},set:function(e){this.shift=e}},{key:"buttons",get:function(){var e=this;return a.map((function(t){var i=t.value||t[e.lang].value;return'\n        <div class="'.concat(t.id,' button">\n          <span>').concat(i,"</span>\n        </div>\n      ")})).join("")},set:function(e){var t=this,i=e.caps,n=e.shift;document.querySelectorAll(".button").forEach((function(e,s){var c=e.querySelector("span");if(!a[s].spec){var u=a[s].value||a[s][t.lang].value;i&&(u=u.toUpperCase()),n&&(u=a[s][t.lang]?a[s][t.lang].shift||u:a[s].en.shift||u),c.textContent=u}}))}}])&&s(t.prototype,i),c&&s(t,c),e}();function u(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrapper=null}var t,i,a;return t=e,(i=[{key:"addSection",value:function(e){this.wrapper.append(e)}},{key:"render",value:function(){return this.wrapper=document.createElement("div"),this.wrapper.classList.add("wrapper"),this.wrapper}}])&&u(t.prototype,i),a&&u(t,a),e}(),r=(i(308),new l),o=new c,v=document.createElement("textarea"),f=new Set,d=document.createElement("header"),h=document.createElement("footer");function p(e){var t=v.selectionStart,i=v.value.split("");i.splice(t,0,e),v.value=i.join(""),v.selectionStart=t+1,v.selectionEnd=t+1}function g(e){switch(v.focus(),e){case"ctrl":case"alt":break;case"backspace":case"del":!function(e){var t=v.selectionStart,i=v.value.split("");switch(e){case"backspace":0!==t&&(i.splice(t-1,1),v.value=i.join(""),v.selectionStart=t-1,v.selectionEnd=t-1);break;case"del":t!==i.length&&(i.splice(t,1),v.value=i.join(""),v.selectionStart=t,v.selectionEnd=t)}}(e);break;case"caps lock":o.isCapsLock=!o.isCapsLock,o.buttons={caps:o.isCapsLock,shift:o.isShift};break;case"shift":o.buttons={caps:!o.isCapsLock,shift:!o.isShift};break;case"enter":p("\n");break;case"tab":p("\t");break;case"←":case"→":!function(e){var t=v.selectionStart;switch(e){case"←":v.selectionStart=t-1,v.selectionEnd=t-1;break;case"→":v.selectionStart=t+1,v.selectionEnd=t+1}}(e);break;default:p(e)}}function L(e){e.preventDefault();var t=e.code,i=e.type,a=e.repeat;document.querySelectorAll(".button").forEach((function(e){var n=e.querySelector("span").textContent,s=e.classList.contains("CapsLock");if(e.classList.contains(t))switch(i){case"keydown":a&&s||g(n),e.classList.contains("active")||e.classList.add("active");break;case"keyup":o.isCapsLock&&e.classList.contains("CapsLock")||e.classList.remove("active"),"ShiftLeft"!==t&&"ShiftRight"!==t||(o.buttons={caps:o.isCapsLock,shift:o.isShift})}}))}function y(e){var t=e.type,i=e.target;if("SPAN"===i.tagName){var a=i.parentElement,n=i.textContent,s=a.classList.contains("ShiftLeft")||a.classList.contains("ShiftRight"),c=a.classList.contains("AltLeft")||a.classList.contains("AltRight"),u=document.querySelector(".ShiftLeft"),l=document.querySelector(".ShiftRight"),r=document.querySelector(".AltLeft"),v=document.querySelector(".AltRight");switch(t){case"mousedown":g(n),s?(o.isShift=!o.isShift,u.classList.toggle("active"),l.classList.toggle("active")):c?(r.classList.toggle("active"),v.classList.toggle("active")):a.classList.add("active");break;case"mouseup":o.isCapsLock&&a.classList.contains("CapsLock")||s&&o.isShift||c||a.classList.remove("active"),s&&(o.isShift?o.buttons={caps:!o.isCapsLock,shift:o.isShift}:o.buttons={caps:o.isCapsLock,shift:o.isShift}),(u.classList.contains("active")||l.classList.contains("active"))&&(s||(u.classList.remove("active"),l.classList.remove("active"),o.isShift=!o.isShift,o.buttons={caps:o.isCapsLock,shift:o.isShift}),(a.classList.contains("AltLeft")||a.classList.contains("AltRight"))&&(o.changeLanguage(),o.buttons={caps:o.isCapsLock,shift:o.isShift},r.classList.remove("active"),v.classList.remove("active"))),(r.classList.contains("active")||v.classList.contains("active"))&&(c||(r.classList.remove("active"),v.classList.remove("active")),(a.classList.contains("ShiftLeft")||a.classList.contains("ShiftRight"))&&(o.changeLanguage(),u.classList.remove("active"),l.classList.remove("active"),o.isShift=!o.isShift,o.buttons={caps:o.isCapsLock,shift:o.isShift}));break;case"mouseout":o.isCapsLock&&a.classList.contains("CapsLock")||s&&o.isShift||c||a.classList.remove("active")}}}d.innerHTML="<h1>Virtual Keyboard<h1>",h.innerHTML="\n  <p>Клавиатура создана в операционной системе Windows</p>\n  <p>Для переключения языка комбинация: ctrl + alt</p>\n",v.classList.add("textarea"),o.language=localStorage.getItem("language")||"en",document.addEventListener("DOMContentLoaded",(function(){document.body.append(r.render()),r.addSection(d),r.addSection(v),r.addSection(o.render()),r.addSection(h)})),document.addEventListener("keydown",(function(e){L(e),function(e){f.add(e.code);for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var i=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];if(!f.has(i))return}f.clear(),o.changeLanguage(),o.buttons={caps:o.isCapsLock,shift:o.isShift}}(e,"ShiftLeft","AltLeft")})),document.addEventListener("keyup",(function(e){L(e),f.delete(e.code)})),document.addEventListener("mousedown",(function(e){y(e)})),document.addEventListener("mouseup",(function(e){y(e)})),document.addEventListener("mouseout",(function(e){y(e)})),window.onfocus=function(){document.querySelectorAll(".button").forEach((function(e){return e.classList.remove("active")}))}}});